{% extends 'layout.twig' %}

{% macro nav_tree(tree) %}
	{% if tree|length %}
		<ul>
			{% for tree_page in tree %}
				<li class="{{ tree_page.parent_current ? 'parent_current' }} {{ tree_page.current ? 'current' }}">
					<a href="{{ tree_page.full_uri }}">
						{{ tree_page.title }}
					</a>
					{{ _self.nav_tree(tree_page.children) }}
				</li>
			{% endfor %}
		</ul>
	{% endif %}
{% endmacro %}

{% block content %}
	<div class="row">
		<div class="four columns">
			<aside>
				<h4>Navigation</h4>
				
				{{ _self.nav_tree(tree) }}
				
				{% if toc|length > 1 %}
					<h4>Table of Contents</h4>
					
					<ul>
						{% for toc_link in toc %}
							<li><a href="#{{ toc_link.uri }}" class="toc-{{ toc_link.size }}">{{ toc_link.title }}</a></li>
						{% endfor %}
					</ul>
				{% endif %}
			</aside>
		</div>
		<div class="eight columns">
			<div id="content">
				<h1>{{ page.title }}</h1>
				{{ page.content }}
			</div>
		</div>
	</div>
{% endblock %}